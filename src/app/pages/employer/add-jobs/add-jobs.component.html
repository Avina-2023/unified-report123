<div class="body">
  <div class="subBody">
    <h3 class="title">Add Jobs</h3>
    <div class="partnerCardBody">
      <mat-card class="partnerCard">
        <div class="">
          <p class="job_title">Job Details</p>
        </div>
        <mat-card-content class="cardValue">
          <div class="primarysingleWrap">
            <div class="singleWrap">
              <form [formGroup]="addjobsForm">
              <div class="inputContainer">
                <label>Company Name<span>*</span></label>
                <mat-form-field appearance="outline">
                  <mat-label>Enter Company Name</mat-label>
                  <mat-select formControlName="company" placeholder="Select Company Name">
                     <mat-option *ngFor="let company of companyOptions" [value]="company">{{ company }}</mat-option>
                  </mat-select>
                  <!-- <mat-error class="error" *ngIf="companyForm.get('company')?.hasError('required')">{{ 'Company Name is Required'
                    }}</mat-error> -->
                </mat-form-field>
              </div>


                <div class="primaryWrap">
                  <div class="leftWrap">
                    <div class="inputContainer">
                      <label>Job Role<span>*</span></label>
                      <mat-form-field appearance="outline">
                        <input formControlName="jobRole" matInput placeholder="Enter Job Role">
                        <mat-error class="error" *ngIf="jobRole?.errors?.required">{{'Job Role is Required'}}</mat-error>
                      </mat-form-field>
                      <ng-container *ngIf="jobRole.invalid && jobRole.touched">
                      </ng-container>
                    </div>
                  </div>
                  <div class="rightWrap">
                    <div class="inputContainer">
                      <label>Job Title<span>*</span></label>
                      <mat-form-field appearance="outline">
                        <input formControlName="jobTitle" matInput placeholder="Enter Job Title">
                        <mat-error class="error" *ngIf="jobTitle?.errors?.required">{{'Job Ttitle is Required'}}</mat-error>
                      </mat-form-field>
                      <ng-container *ngIf="jobTitle.invalid && jobTitle.touched">
                      </ng-container>
                    </div>
                  </div>
                </div>
                <!-- company logo upload code -->
                <!-- <div class="right">
              <div class="inputContainer">
                <label>Company Logo<span>*</span></label>
                <p class="errmsg" *ngIf="errorMsgforCmpnyLogo">{{errorMsgforCmpnyLogo}}</p>
                <div class="wrapper">
                  <div>
                    <img *ngIf="!employerLogo" class="cloudicon"
                      src="../../../../assets/images/Icon ionic-md-cloud-upload.jpg" alt="">
                    <img *ngIf="employerLogo" class="imgicon" [src]="displayImageUrl" height="100" width="200">
                  </div>
                  <div class="buttonClass">
                    <div class="subButton">
                      <input type="file" accept="image/png, image/jpeg" class="file-input"
                        (change)="onEmployerLogoFileSelected($event)" (click)="$event.target.value=null" #fileUpload>
                      <button mat-flat-button (click)="fileUpload.click()">Browse</button>
                    </div>
                  </div>
                  <div class="titlealign">
                    <p class="labeldes">Photo must be in .jpg or .png format</p>
                  </div>
                </div>
              </div>
            </div> -->
                <div class="primaryWrap">
                  <div class="leftWrap">
                    <div class="inputContainer">
                      <label>Job Location <span>*</span></label>
                      <nz-select style="width: 98%;" nzMode="multiple" nzAllowClear nzShowSearch
                        nzPlaceHolder="-- Select Job Location (Multiple Select)" formControlName="jobLocation"
                        class="custom-nz-select my-custom-nz-select">
                        <nz-option *ngFor="let location of JobLocations" [nzLabel]="location"
                          [nzValue]="location"></nz-option>
                      </nz-select>
                    </div>
                    <div
                      *ngIf="addjobsForm.get('jobLocation').hasError('required') && addjobsForm.get('jobLocation').touched"
                      class="text-danger">
                      Job Location is required.
                    </div>
                  </div>

                  <div class="rightWrap">
                    <div class="inputContainer">
                      <label>Job Type<span>*</span></label>
                      <mat-form-field appearance="outline" style="width: 98%;">
                        <mat-label>— Select Job Type — </mat-label>
                        <mat-select [(ngModel)]="jobType" formControlName="jobType">
                          <mat-option *ngFor="let item of JobType" [value]="item">{{ item }}</mat-option>
                        </mat-select>
                      </mat-form-field>
                    </div>
                  </div>
                </div>

                <!-- <div class="primaryWrap">
            <div class="leftWrap">
              <form [formGroup]="addjobsForm" enctype="multipart/form-data">
                <div class="inputContainer">
                  <label>Degree<span>*</span></label>
                  <mat-form-field appearance="outline">
                    <input formControlName="degree" matInput placeholder="Enter Degree">
                  </mat-form-field>
                  <ng-container *ngIf="degree.invalid && degree.touched">
                    <mat-error class="error" *ngIf="degree?.errors?.required">{{'Degree is Required'}}</mat-error>
                  </ng-container>
                </div>
              </form>
            </div>
            <div class="rightWrap">
              <form [formGroup]="addjobsForm" enctype="multipart/form-data">
                <div class="inputContainer">
                  <label>Specialization<span>*</span></label>
                  <mat-form-field appearance="outline">
                    <input formControlName="specialization" matInput placeholder="Enter Specialization">
                    <mat-error class="error" *ngIf="specialization?.errors?.required">{{'Specialization is Required'}}</mat-error>
                  </mat-form-field>
                  <ng-container *ngIf="specialization.invalid && specialization.touched">
                  </ng-container>
                </div>
              </form>
            </div>
          </div> -->
                <div>
                  <div class="edu_box ">
                    <label class="edu_heading">Education<span class="edu_man">*</span></label>
                    <fieldset class="education-fieldset">
                      <div *ngFor="let group of formGroups; let i = index" class="form-group flex_div">
                        <div class="mg-r-10 width-30 "><nz-select nzShowSearch nzAllowClear nzPlaceHolder="Graduation"
                            [formControl]="group.get('level')" (ngModelChange)="onGraduationChange($event, i)">
                            <nz-option *ngFor="let option of educations" [nzLabel]="option.education"
                              [nzValue]="option.education"></nz-option>
                          </nz-select>
                          <div *ngIf="group.get('level').hasError('required') && group.get('level').touched"
                            class="text-danger">
                            Graduation Field Required.
                          </div>
                        </div>

                        <div class="mg-l-10 width-30">
                          <nz-select [nzDisabled]="isdegreeDisabled(i)" nzShowSearch nzAllowClear nzPlaceHolder="Degree"
                            [formControl]="group.get('specification')" (ngModelChange)="onDegreeChange($event, i)">
                            <nz-option *ngFor="let option of degreeOptions" [nzLabel]="option.specification_name"
                              [nzValue]="option.specification_name"></nz-option>
                          </nz-select>
                          <div *ngIf="group.get('specification').hasError('required') && group.get('specification').touched"
                            class="text-danger">
                            Degree Required.
                          </div>
                        </div>
                        <div class="mg-l-10 width-40 overflow_scroll">
                          <nz-select nzAllowClear [nzDisabled]="iscourseDisabled(i)"
                            [ngModel]="group.get('multipleSpecialization')?.value"
                            [ngModelOptions]="{ standalone: true }" [nzSize]="default" nzMode="multiple"
                            nzPlaceHolder="--Select Specialization (Multiple Select)---" class="custom-nz-select"
                            [formControl]="group.get('discipline')">
                            <nz-option *ngFor="let option of listOfSpecializations" [nzLabel]="option.discipline_name"
                              [nzValue]="option.discipline_name"></nz-option>
                          </nz-select>
                          <div
                            *ngIf="group.get('discipline').hasError('required') && group.get('discipline').touched"
                            class="text-danger">
                            Specialization is Required.
                          </div>
                        </div>
                        <div class="remove_group_text" *ngIf="formGroups.length > 1 && i > 0"
                          (click)="removeEducationGroup(i)">X
                        </div>
                      </div>
                      <div class="add_more_text" (click)="addEducationGroup()">Add More</div>
                    </fieldset>
                  </div>
                </div>

                <div class="primaryWrap flex_div width-100 mg-r-10" style="padding: 15px 0px 0px 0px;">

                <div class="leftWrap">
                  <div class="inputContainer">
                    <label>CTC<span>*</span></label>
                    <div class="form-group salary-range" style="display: flex;">
                      <mat-radio-group style="margin: -5px 0px 0px 0px; " formControlName="ctcType" aria-label="Select an option">
                        <mat-radio-button (change)="onCtcTypeChange('fixed')" [value]="'fixed'"
                          style="font-weight: bold; font-size: 14px;">Fixed</mat-radio-button>
                        <mat-radio-button (change)="onCtcTypeChange('range')" [value]="'range'"
                          style="padding: 10px; font-weight: bold; font-size: 14px;">Range</mat-radio-button>
                      </mat-radio-group>

                      <!-- Fixed input -->
                      <div *ngIf="isFixed" style="width: 71.5%;">
                        <mat-form-field class="example-full-width" appearance="outline">
                          <input formControlName="ctc" matInput placeholder="CTC (numeric only)">
                        </mat-form-field>
                      </div>

                      <!-- Range inputs -->
                      <div *ngIf="isRange" style="display: flex; width: 37%;">
                        <mat-form-field appearance="outline" style="padding-right: 13px;">
                          <input formControlName="startRangeCtc" matInput placeholder="CTC (numeric only)">
                        </mat-form-field>

                        <mat-form-field appearance="outline" style="padding-right: 13px;">
                          <input formControlName="endRangeCtc" matInput placeholder="CTC (numeric only)">
                        </mat-form-field>
                      </div>
                    </div>
                  </div>
                </div>

                  <div class="rightWrap">
                    <div class="inputContainer">
                      <label>Year of Passing<span>*</span></label>
                      <nz-select style="width: 100%; padding: 0px 0px 0px 7px;" nzMode="multiple" nzAllowClear
                        nzShowSearch nzPlaceHolder="-- Select Year of Passing (Multiple Select)"
                        formControlName="yearofPassout" class="custom-nz-select my-custom-nz-select">
                        <nz-option *ngFor="let item of YearofPassing" [nzLabel]="item" [nzValue]="item"></nz-option>
                      </nz-select>
                    </div>
                  </div>
                </div>

                <div class="primaryWrap" style="margin: -25px 0px 0px 0px;">
                  <div class="leftWrap">
                    <!-- <form [formGroup]="addjobsForm" enctype="multipart/form-data">
                <div class="inputContainer" style="margin: 0px 5px 0px 0px;">
                  <label>Key skills <span>*</span></label>
                  <nz-select [(ngModel)]="keySkills" style="width: 98%;" nzMode="multiple" nzAllowClear nzShowSearch
                    nzPlaceHolder="-- Select Skill Set (Multiple Select) --" formControlName="skillSet" class="custom-nz-select my-custom-nz-select"  required>
                    <nz-option *ngFor="let item of keySkills" [nzLabel]="item" [nzValue]="item"></nz-option>
                  </nz-select>
                </div>
              </form> -->
                    <div class="inputContainer" style="margin: 0px 5px 0px 0px;">
                      <label>Key skills <span>*</span></label>
                      <nz-select [(ngModel)]="skillSet" style="width: 98%;" nzMode="multiple" nzAllowClear nzShowSearch
                        nzPlaceHolder="-- Select Skill Set (Multiple Select) --" formControlName="skillSet"
                        class="custom-nz-select my-custom-nz-select" required>
                        <nz-option *ngFor="let item of newSkill" [nzLabel]="item" [nzValue]="item"></nz-option>
                      </nz-select>
                      <div *ngIf="addjobsForm.get('skillSet').hasError('required') && addjobsForm.get('skillSet').touched" class="text-danger">Skill Set is
                        Required.</div>
                    </div>
                  </div>

                  <div class="rightWrap">
                    <div class="inputContainer">
                      <label>Last day to apply</label>
                      <mat-form-field appearance="outline">
                        <input formControlName="lastDatetoApply" [matDatepicker]="picker" matInput
                          placeholder="— Select Date —">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="primarysingleWrap">
                  <div class="singleWrap">
                    <div class="inputContainer">
                      <label>Apply link<span>*</span></label>
                      <mat-form-field appearance="outline">
                        <input formControlName="applyLink" matInput placeholder="Enter URL">
                        <mat-error class="error" *ngIf="applyLink?.errors?.required">{{'URL is Required'}}</mat-error>
                      </mat-form-field>
                      <ng-container *ngIf="applyLink.invalid && applyLink.touched">
                      </ng-container>
                    </div>
                  </div>
                </div>
                <div class="primarysingleWrap">
                  <div class="singleWrap">
                    <div class="inputContainer">
                      <label>Job Description<span>*</span></label>
                      <mat-form-field appearance="outline">
                        <angular-editor [(ngModel)]="htmlContent_description" formControlName="description"
                          placeholder="Enter Job Description" id="description"></angular-editor>
                        <textarea type="textarea" maxlength="250" formControlName="description"
                          style="resize: none;display: none;" class="descstyle" matInput
                          placeholder="Enter Job Description"></textarea>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="primarysingleWrap">
                  <div class="singleWrap">
                    <div class="inputContainer">
                      <label>Job Requirements<span>*</span></label>
                      <mat-form-field appearance="outline">
                        <angular-editor [(ngModel)]="htmlContent_requirement" formControlName="requirement"
                          placeholder="Enter Job Requirements" id="requirements"></angular-editor>
                        <textarea type="textarea" maxlength="250" formControlName="requirements"
                          style="resize: none;display: none;" class="descstyle" matInput
                          placeholder="Enter Job Requirements"></textarea>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div class="primarysingleWrap">
                  <div class="singleWrap">
                    <div class="inputContainer">
                      <label>Additional Information</label>
                      <mat-form-field appearance="outline">
                        <angular-editor [(ngModel)]="htmlContent_information" formControlName="additionalInformation"
                          placeholder="Enter Additional Information " id="additionalInformation"></angular-editor>
                        <textarea type="textarea" maxlength="250" formControlName="additionalInformation"
                          style="resize: none;display: none;" class="descstyle" matInput
                          placeholder="Additional Information"></textarea>
                      </mat-form-field>
                    </div>
                  </div>
                </div>
                <div>
                  <div class="buttonClass">
                    <div class="subButton">
                      <button mat-flat-button (click)="saveForm()">Save</button>
                    </div>
                    <div class="subButton2">
                      <button mat-flat-button (click)="clearForm()">Clear</button>
                    </div>
                  </div>
                </div>
              </form>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
